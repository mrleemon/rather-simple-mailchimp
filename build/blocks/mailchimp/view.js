import{getContext as s,store as r,withSyncEvent as e}from"@wordpress/interactivity";r("rsm-store",{actions:{reset:function(){const r=s();r.displayError="none",r.displaySuccess="none"},subscribe:e(function*(r){const e=s(),o=new FormData(r.target);r.preventDefault(),e.displayError="none",e.displaySuccess="none";try{const s=yield fetch("https://"+window.location.hostname+"/wp-json/occ/v1/mailchimp/subscribe",{method:"POST",body:o}),r=yield s.json();"success"===r.result?e.displaySuccess="block":(e.displayError="block",e.errorMessage=r.msg||"An error occurred")}catch(s){e.displayError="block",e.errorMessage=s}})}});